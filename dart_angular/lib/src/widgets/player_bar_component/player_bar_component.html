<div class="container" *ngIf="isVisible">

    <div [class]="getQueueClass()">
        <h4>لیست پخش</h4>

        <div class="queue-list">

            <div *ngFor="let item of player.list" [class]="isitCurrectPlaying(item.id)">

                <card-wide  dir="rtl" 
                    [item]='item' 
                    [numerical]='false'
                    [duration]='false'>
                </card-wide>

                <button class="btn-sl close" (click)="player.remove(item.id)">
                    <img src="/assets/svg/icon_close.svg" width="10" height="10">
                </button>
            </div>  

        </div>
    </div>

    <div class="background">
        <div>bar</div>
    </div>

    <div class="bar">
        <div class="media-detail">
            <div class="current" *ngIf="current != null">
                <div class="cover">
                    <img src="{{current.thumbnail}}" alt="">
                </div>
                <div class="title">
                    <h4>{{current.title}}</h4>
                    <h5>{{current.singer}}</h5>
                </div>
            </div>

            <!-- <div class="like" (click)="like()">
                <img src="{{iconpath}}">
            </div> -->
        </div>

        <div class="play-btns">
            <img class="next" extractor (onExtract)="getElement($event)" id="next">
            <img class="play" extractor (onExtract)="getElement($event)" id="play">
            <img class="pre" extractor (onExtract)="getElement($event)" id="previous">
        </div>

        <div class="time-line">
            <material-slider class="slider-length" 
            (mousedown)="player.onSeekingSlider()"
            (mouseup)="player.onSeekingSliderDone()"
            (mousemove)="player.onSliderValueChange()"
            *ngIf="player.audio != null"
            [(value)]="player.currentTime"
            [min]="0.0"
            [step]="1.0"
            [max]="player.getDuration"></material-slider>

            <div class="">
                <span class="time-current">{{player.currentTime | durationStr}}</span>
                <span class="time-total">{{player.getDuration | durationStr}}</span>
            </div>
        </div>

        <div class="option-btns">
            <img extractor (onExtract)="getElement($event)" id="repeat">
            <img extractor (onExtract)="getElement($event)" id="shuffle">
        </div>
        <div class="queue">
            <button class="btn-sl" (click)="SwitchQueue()">لیست پخش</button>
        </div>
    </div>

    <div class="time-line-small">
        <material-slider class="slider-length" 
        (mousedown)="player.onSeekingSlider()"
        (mouseup)="player.onSeekingSliderDone()"
        (mousemove)="player.onSliderValueChange()"
        *ngIf="player.audio != null"
        [(value)]="player.currentTime"
        [min]="0.0"
        [step]="1.0"
        [max]="player.getDuration"></material-slider>
    </div>

</div>

<audio type="audio/mp3" extractor (onExtract)="getElement($event)" id="audio"></audio>