<div class="widget-container">

    <div class="flex-row flex-center"
        extractor (onExtract)="getElement($event)">
        <!-- logo -->
        <!-- <div class="w3-container w3-half w3-center">
            <img class="logo w3-image" src="/assets/imgs/logo.png">
        </div> -->

        <!-- forms -->
        <div class="form" [direction]="lang.getDir()">

            <!-- login form -->
            <div id="login" class="animatable none flex-column flex-center">
                <div class="w3-center margin-h-20">
                    <h5>{{lang.getStr('loginToAccount')}}</h5>
                </div>

                <!-- identity -->
                <div class="full-wide margin-h-20">
                    <div>
                        <label>{{lang.getStr('selectCountry')}}</label>
                        <select-field 
                            [field]="countryCode"
                            [options]="countries" 
                            [icons]="flags"
                            (onChange)="countryCode = $event">
                        </select-field>
                    </div>
                </div>

                <div class="flex-row flex-center" dir="ltr"
                    style="justify-content: flex-start;">
                    <div><label>+{{countryCode}}</label></div>
                    <div>
                        <input dir="ltr" [(ngModel)]="phone" 
                            class="input-text input-wide" 
                            name="identity" type="text" 
                            placeholder="{{lang.getStr('phone')}}">
                    </div>
                </div>

                <!-- password -->
                <div class="flex-row flex-center" dir="ltr"
                    style="justify-content: flex-start;">
                    <div class="no-opacity"><label>+{{countryCode}}</label></div>
                    <div>
                        <input dir="ltr" [(ngModel)]="password"
                            class="input-text input-wide" 
                            name="password" type="password" 
                            placeholder="{{lang.getStr('password')}}">
                    </div>
                </div>

                <!-- btn -->
                <div class="btn-sl margin-h-20" 
                    (click)="login()">{{lang.getStr('login')}}</div>

                <!-- alternatives -->
                <div class="alternatives">
                    <ul class="alternatives">
                        <li class="pointer" (click)="showForm('register-phone')">{{lang.getStr('register')}}</li>
                        <li class="pointer" 
                        (click)="showForm('register-phone-for-change-password')">{{lang.getStr('forgotPassword')}}</li>
                    </ul>
                </div>
            </div>

            <!-- register phone -->
            <div id="register-phone" 
                class="animatable none flex-column flex-center">
                <div class="w3-center margin-h-20">
                    <h5>{{lang.getStr('createAccount')}}</h5>
                </div>

                <!-- identity -->
                <div class="full-wide">
                    
                    <div class="margin-h-20">
                        <label>{{lang.getStr('selectCountry')}}</label>
                        <select-field 
                            [field]="countryCode"
                            [options]="countries" 
                            [icons]="flags"
                            (onChange)="countryCode = $event">
                        </select-field>
                    </div>

                    <div class="margin-h-20">
                        <label>{{lang.getStr('insertPhone')}}</label>
                        <div class="flex-row flex-center" dir="ltr">
                            <div><label>+{{countryCode}}</label></div>
                            <div>
                                <input dir="ltr" [(ngModel)]="phone" 
                                    class="input-text input-wide" 
                                    name="identity" type="text" 
                                    placeholder="{{lang.getStr('phone')}}">
                            </div>
                        </div>    
                    </div>
                    
                </div>

                <!-- btn -->
                <div class="btn-sl margin-h-20" 
                    (click)="registerPhone()">{{lang.getStr('submit')}}</div>

                <!-- alternatives -->
                <div class="alternatives">
                    <ul class="alternatives">
                        <li class="pointer" (click)="showForm('login')">{{lang.getStr('loginHere')}}</li>
                    </ul>
                </div>
            </div>

            <!-- submite-password -->
            <div id="submite-password" class="animatable none flex-column flex-center">
                <div class="w3-center margin-h-20">
                    <h5>{{lang.getStr('createAccount')}}</h5>
                </div>

                <!-- identity -->
                <div class="full-wide margin-h-20">
                    <label>{{lang.getStr('insertPhone')}}</label>
                    <label>{{normalizedPhone}}</label>
                </div>

                <!-- code -->
                <div class="full-wide">
                    <!-- <label>{{lang.getStr('insertCode')}}</label> -->
                    <input dir="ltr" [(ngModel)]="code" 
                            class="input-text input-wide" 
                            name="code" type="text" 
                            placeholder="{{lang.getStr('insertCode')}}">
                </div>

                <!-- password -->
                <div class="full-wide">
                    <!-- <label>{{lang.getStr('insertNewPassword')}}</label> -->
                    <input dir="ltr" [(ngModel)]="password"
                            class="input-text input-wide" 
                            name="password" type="password" 
                            placeholder="{{lang.getStr('insertNewPassword')}}">
                </div>

                <!-- btn -->
                <div class="btn-sl margin-h-20" 
                    (click)="submitePassword()">{{lang.getStr('submit')}}</div>

                <!-- alternatives -->
                <div class="alternatives">
                    <ul class="alternatives">
                        <li class="pointer" (click)="showForm('login')">{{lang.getStr('loginHere')}}</li>
                    </ul>
                </div>
            </div>

            <!-- register phone for change password -->
            <div id="register-phone-for-change-password" class="animatable none flex-column flex-center">
                <div class="w3-center margin-h-20">
                    <h5>{{lang.getStr('changePassword')}}</h5>
                </div>

                <!-- identity -->
                <div class="full-wide">
                    <label>{{lang.getStr('insertPhone')}}</label>
                    <input dir="ltr" [(ngModel)]="phone" 
                            class="input-text input-wide" 
                            name="identity" type="text" 
                            placeholder="{{lang.getStr('phone')}}">
                </div>

                <!-- btn -->
                <div class="btn-sl margin-h-20" 
                    (click)="registerPhoneForChangePassword()">{{lang.getStr('submit')}}</div>

                <!-- alternatives -->
                <div class="alternatives">
                    <ul class="alternatives">
                        <li class="pointer" (click)="showForm('login')">{{lang.getStr('loginHere')}}</li>
                    </ul>
                </div>
            </div>

            <!-- submite-password for change -->
            <div id="submite-password-for-change" class="animatable none flex-column flex-center">
                <div class="w3-center margin-h-20">
                    <h5>{{lang.getStr('changePassword')}}</h5>
                </div>

                <!-- identity -->
                <div class="full-wide margin-h-20">
                    <label>{{lang.getStr('insertPhone')}}</label>
                    <label>{{normalizedPhone}}</label>
                </div>

                <!-- code -->
                <div class="full-wide">
                    <!-- <label>{{lang.getStr('insertCode')}}</label> -->
                    <input dir="ltr" [(ngModel)]="code" 
                            class="input-text input-wide" 
                            name="code" type="text" 
                            placeholder="{{lang.getStr('insertCode')}}">
                </div>

                <!-- password -->
                <div class="full-wide">
                    <!-- <label>{{lang.getStr('insertNewPassword')}}</label> -->
                    <input dir="ltr" [(ngModel)]="password"
                            class="input-text input-wide" 
                            name="password" type="password" 
                            placeholder="{{lang.getStr('insertNewPassword')}}">
                </div>

                <!-- btn -->
                <div class="btn-sl margin-h-20" 
                    (click)="submitePasswordForChange()">{{lang.getStr('submit')}}</div>

                <!-- alternatives -->
                <div class="alternatives">
                    <ul class="alternatives">
                        <li class="pointer" (click)="showForm('login')">{{lang.getStr('loginHere')}}</li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- end forms -->
    </div>

    <!-- message -->
    <div class="w3-center w3-text-yellow">
        <p>{{errorMessage}}</p>
    </div>
</div>
